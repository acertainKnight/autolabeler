{
  "project_name": "speaker_independence_ensemble",
  "data_context": {
    "source_data": "datasets/stacked_headline_scores_simple.csv"
  },
  "tasks": [
    {
      "name": "SplitData",
      "type": "split_data",
      "params": {
        "df_key": "source_data",
        "output_train_df_key": "train_data",
        "output_test_df_key": "test_data",
        "test_size": 0.2,
        "stratify_column": "score"
      }
    },
    {
      "name": "AddTrainingData",
      "type": "add_training_data",
      "params": {
        "df_key": "train_data",
        "text_column": "headline",
        "label_column": "score"
      }
    },
    {
      "name": "LabelWithEnsemble",
      "type": "label_ensemble",
      "params": {
        "df_key": "test_data",
        "output_df_key": "labeled_data",
        "text_column": "headline",
        "model_configs": [
          {
            "name": "gpt4.1_mini",
            "provider": "openrouter",
            "model": "openai/gpt-4.1-mini",
            "temperature": 0.2
          },
          {
            "name": "gemini_2.5_flash",
            "provider": "openrouter",
            "model": "google/gemini-2.5-flash-preview-05-20",
            "temperature": 0.2
          },
          {
            "name": "deepseek_chat",
            "provider": "openrouter",
            "model": "deepseek/deepseek-chat",
            "temperature": 0.2
          }
        ],
        "ensemble_config": {
          "method": "confidence_weighted",
          "min_confidence": 0.7,
          "agreement_threshold": 0.6
        }
      }
    },
    {
      "name": "EvaluateResults",
      "type": "evaluate",
      "params": {
        "df_key": "labeled_data",
        "true_label_column": "score",
        "pred_label_column": "predicted_label",
        "output_report_path": "results/speaker_independence_ensemble_report.md"
      }
    },
    {
      "name": "SaveLabeledData",
      "type": "save_data",
      "params": {
        "df_key": "labeled_data",
        "output_file": "results/speaker_independence_ensemble_output.csv"
      }
    }
  ]
}
